<?php

/*******************************************************************************************************/
/** OBJECT ORIENTED PROGRAMMING LANGAGE                                                               **/
/*******************************************************************************************************/
/** CLASS name: DatabaseTableTruncate (child of the class Database)                                   **/
/*******************************************************************************************************/
/** AUTHOR: Marc L. Harnist                                                                           **/
/*******************************************************************************************************/
/** CREATION: 28/03/2018                                                                              **/
/*******************************************************************************************************/
/** UPDATED: 28/03/2018                                                                               **/
/*******************************************************************************************************/
/** FILE USING THIS CLASS: controller/truncate.php                                                    **/
/**                                                                                                   **/
/*******************************************************************************************************/
/** FUNCTION INSIDE: truncate()                                                                       **/
/**                                                                                                   **/
/*******************************************************************************************************/
class DatabaseTableTruncate extends Database {

		protected $table   = "zoo_espece"; // nombre d'animaux par espèce
		public $message;
		public $db;
		
		/**********************************************************************************************/
		/** Nom : construct                                                                          **/
		/**********************************************************************************************/
		/** Description : crée l'objet DatabaseDeleteZoo, et se connecte à la base de donnée         **/   
		/**               mysql en utilisant une fonction (connect()) de la classe mère (Database)   **/
		/**                                                		                                     **/
		/**********************************************************************************************/
		/** Paramètres : [string] : nom de l'espèce animale que nous voulons supprimer de la         **/
		/**                         base de donnée mysql                                             **/
		/**********************************************************************************************/
		/** Auteur : Marc L. Harnist                                                                 **/
		/**********************************************************************************************/
		/** Version : 1.0                                                                            **/
		/**********************************************************************************************/
		/** Créée le : 28/03/2018                                                                    **/
		/**********************************************************************************************/
		/** Modifiée le : 28/03/2018                                                                 **/	/**********************************************************************************************/	

		public function __construct(){
			parent::__construct(); // la classe instanciée ici utilise les attributs de la classe mère
			$this->truncate();
		}

		/**********************************************************************************************/
		/** Nom : truncate()                                                                         **/
		/**********************************************************************************************/
		/** Description : vide la table en cours                                                     **/
		/**********************************************************************************************/
		/** Auteur : Marc L. Harnist                                                                 **/
		/**********************************************************************************************/
		/** Version : 1.0                                                                            **/
		/**********************************************************************************************/
		/** Créée le : 28/03/2018                                                                    **/
		/**********************************************************************************************/
		/** Modifiée le : 28/03/2018                                                                 **/	/**********************************************************************************************/	
		function truncate(){
			// ATTENTION: respectez bien l'ordre des ' et des " N'oubliez pas non plus les . (concaténation)
			$mysql_request = 'DELETE FROM ' . $this->table . '';
	  
			// Mysql request ($stmt = preparing statement = état de préparation = une convention de codeurs)
			$stmt = $this->db->query($mysql_request);
		}
		
		// Setter
		public function getTable(){
			return $this->table;
		}
		
	} // Close the class