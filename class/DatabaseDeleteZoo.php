<?php

/*******************************************************************************************************/
/** OBJECT ORIENTED PROGRAMMING LANGAGE                                                               **/
/*******************************************************************************************************/
/** CLASS name: DatabaseDeleteZoo (child of the class Database)                                       **/
/*******************************************************************************************************/
/** AUTHOR: Marc L. Harnist                                                                           **/
/*******************************************************************************************************/
/** CREATION: 28/03/2018                                                                              **/
/*******************************************************************************************************/
/** UPDATED: 28/03/2018                                                                               **/
/*******************************************************************************************************/
/** FILE USING THIS CLASS: controller/aller-au-cafe                                                   **/
/**                                                                                               **/
/*******************************************************************************************************/
/** FUNCTION INSIDE: delete_database                                                                  **/
/**                                                                                               **/
/*******************************************************************************************************/
class DatabaseDeleteZoo extends Database {

		protected $nom; // nom de l'espèce d'animal de la colonne nom de la table
		protected $table   = "zoo_espece"; // nombre d'animaux par espèce
		public $message;
		public $db;
		
		/**********************************************************************************************/
		/** Nom : construct                                                                          **/
		/**********************************************************************************************/
		/** Description : crée l'objet DatabaseDeleteZoo, et se connecte à la base de donnée         **/   
		/**               mysql en utilisant une fonction (connect()) de la classe mère (Database)   **/
		/**                                                		                                     **/
		/**********************************************************************************************/
		/** Paramètres : [string] : nom de l'espèce animale que nous voulons supprimer de la         **/
		/**                         base de donnée mysql                                             **/
		/**********************************************************************************************/
		/** Auteur : Marc L. Harnist                                                                 **/
		/**********************************************************************************************/
		/** Version : 1.0                                                                            **/
		/**********************************************************************************************/
		/** Créée le : 28/03/2018                                                                    **/
		/**********************************************************************************************/
		/** Modifiée le : 28/03/2018                                                                 **/	/**********************************************************************************************/	

		public function __construct($espece)
		{
			parent::__construct();
			$this->delete_database($espece);
		}

		// 4. DELETE
		// D from CRUD - Database Delete

		/**********************************************************************************************/
		/** Nom : delete_database                                                                    **/
		/**********************************************************************************************/
		/** Description : supprime une ligne de la base de donnée                                    **/
		/**                                                		                                     **/
		/**********************************************************************************************/
		/** Paramètres : [array] objet Espece à modifier dans la base de donnée                      **/
		/**********************************************************************************************/
		/** Valeurs retournées :                                                                     **/
		/**********************************************************************************************/
		/** Auteur : Marc L. Harnist                                                                 **/
		/**********************************************************************************************/
		/** Version : 1.0                                                                            **/
		/**********************************************************************************************/
		/** Créée le : 28/03/2018                                                                    **/
		/**********************************************************************************************/
		/** Modifiée le : 28/03/2018                                                                 **/	/**********************************************************************************************/	
		function delete_database($espece){

			echo '<pre>';
			var_dump($espece->getId());
			echo '</pre>';
			$this->espece = $espece;
						
			// ATTENTION: respectez bien l'ordre des ' et des " N'oubliez pas non plus les . (concaténation)
			$mysql_request = 'DELETE FROM ' . $this->table . ' WHERE id = "' . $espece->getId() . '"';
	  
			// Mysql request ($stmt = preparing statement = état de préparation = une convention de codeurs)
			$stmt = $this->db->query($mysql_request);
		}
	} // Close the class